# 注塑部管理系统 - 系统概述方案

## 1. 项目背景

注塑部管理系统是一套面向注塑生产车间的综合性管理平台，旨在通过信息化手段提升生产管理效率，规范生产流程，确保产品质量，实现生产数据的实时监控和追溯。

## 2. 系统目标

- 实现注塑生产全流程信息化管理
- 提升生产效率和产品质量
- 规范设备维护和点检流程
- 实现物料、模具、人员等资源的统一管理
- 建立完善的品质追溯体系
- 推进现场5S管理标准化

## 3. 功能模块

### 3.1 用户登录模块
- 用户身份认证
- JWT Token 管理
- 登录状态保持
- 密码加密存储

### 3.2 用户管理模块
- 用户信息管理（增删改查）
- 用户状态管理（启用/禁用）
- 密码重置功能
- 用户角色分配

### 3.3 权限管理模块
- 基于RBAC的权限控制
- 角色管理（增删改查）
- 权限管理（菜单权限、按钮权限）
- 用户角色关联管理
- 角色权限关联管理

### 3.4 人员管理模块
- 员工基本信息管理
- 员工档案管理
- 部门组织架构管理
- 员工考勤管理

### 3.5 生产管理模块
- 生产订单管理
- 生产计划制定
- 生产记录录入
- 产量统计查询
- 生产进度跟踪

### 3.6 设备管理模块（核心模块）
- 设备基本信息管理
- **注塑成型设备点检表**（30天数据记录）
  - 电路部分检查（3项）
  - 机架部分检查（3项）
  - 油路部分检查（5项）
  - 周边设备检查（5项）
- 设备维护记录
- 设备故障记录
- 设备状态监控

### 3.7 模具管理模块
- 模具基本信息管理
- 模具使用记录
- 模具维护保养记录
- 模具寿命管理
- 模具状态跟踪

### 3.8 物料管理模块
- 物料基本信息管理
- 物料入库管理
- 物料出库管理
- 库存查询统计
- 库存预警管理
- 先进先出（FIFO）管理

### 3.9 品质管理模块
- 检验记录管理
- 不合格品处理
- 质量追溯
- 合格率统计
- 质量报表生成

### 3.10 现场5S管理模块
- 5S检查记录（整理、整顿、清扫、清洁、素养）
- 整改任务管理
- 整改进度跟踪
- 评分统计
- 排名展示

## 4. 技术架构

### 4.1 系统架构
- **架构模式**: B/S架构（Browser/Server）
- **前后端分离**: 前端独立部署，通过RESTful API与后端交互

### 4.2 前端技术栈
- **框架**: React 18.x
- **开发语言**: TypeScript
- **UI组件库**: Ant Design 5.x
- **状态管理**: React Hooks / Context API
- **路由管理**: React Router 6.x
- **HTTP请求**: Axios
- **构建工具**: Vite
- **样式预处理**: Less

### 4.3 后端技术栈
- **框架**: Spring Boot 3.x
- **开发语言**: Java 17
- **安全框架**: Spring Security + JWT
- **ORM框架**: MyBatis-Plus
- **API文档**: Swagger / Knife4j
- **工具类库**: Hutool
- **密码加密**: BCrypt

### 4.4 数据库
- **数据库**: MySQL 8.0+
- **连接池**: HikariCP
- **命名规范**: 小写字母+下划线（snake_case）

## 5. 核心功能设计

### 5.1 注塑成型设备点检表（核心功能）

#### 5.1.1 表头信息
- 月份（第几个月的数据）
- 检点人姓名
- 设备编号
- 设备名称

#### 5.1.2 电路部分（3项）
1. 发热圈/感温线/交流接触器温度控制器是否正常
2. 电箱排风扇/安全门开关/烘料斗温度是否正常
3. 形成开关是否正常

#### 5.1.3 机架部分（3项）
1. 哥林柱、机架螺母是否松动
2. 安全挡板/射咀/低压保护是否正常
3. 调模牙盘变形及余音是否正常

#### 5.1.4 油路部分（5项）
1. 油泵压力/动作是否正常
2. 油泵/溶胶/马达是否有杂音
3. 油温/冷却器是否正常
4. 自动加油润滑油管是否正常
5. 机台油管是否漏油

#### 5.1.5 周边设备（5项）
1. 模温机、冻水机是否异响
2. 模温机冷却水、冷却水过滤网是否堵塞
3. 油温机是否缺油、温度是否正常
4. 冻水机过滤网、运水是否正常
5. 冻水机制冷系统、交流触感器是否正常

#### 5.1.6 数据记录
- 记录30天的点检数据
- 每个检查项状态：正常/异常
- 支持按月份、设备、检点人查询

## 6. 数据库设计原则

### 6.1 命名规范
- 表名：小写字母+下划线，如 `sys_user`、`equipment_check`
- 字段名：小写字母+下划线，如 `user_name`、`check_date`
- 主键：统一使用 `id`，类型为 `bigint`，自增

### 6.2 公共字段
- `id`: 主键，bigint，自增
- `create_time`: 创建时间，datetime
- `update_time`: 更新时间，datetime
- `deleted`: 删除标志，tinyint，0-未删除，1-已删除（逻辑删除）

### 6.3 索引设计
- 主键索引：所有表必须有主键
- 唯一索引：用户名、编号等唯一字段
- 普通索引：常用查询字段（如设备编号、日期等）

## 7. API设计规范

### 7.1 RESTful API设计
- GET: 查询数据
- POST: 新增数据
- PUT: 更新数据
- DELETE: 删除数据

### 7.2 统一响应格式
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {}
}
```

### 7.3 统一异常处理
- 使用全局异常处理器
- 统一错误码和错误信息
- 记录异常日志

## 8. 安全设计

### 8.1 身份认证
- JWT Token认证机制
- Token有效期：2小时
- 支持Token刷新

### 8.2 密码安全
- BCrypt加密存储
- 密码长度不少于6位
- 登录失败统一提示

### 8.3 权限控制
- 基于RBAC的权限模型
- 菜单级权限控制
- 按钮级权限控制
- API接口权限验证

### 8.4 数据安全
- SQL注入防护（参数化查询）
- XSS攻击防护
- CSRF防护
- 敏感数据加密存储

## 9. 开发规范

### 9.1 代码规范
- 前端：遵循ESLint配置规范
- 后端：遵循阿里巴巴Java开发手册规范

### 9.2 注释规范
- 类和方法必须有注释
- 复杂业务逻辑需要详细注释
- API接口需要Swagger注解

### 9.3 版本控制
- 使用Git进行版本控制
- 提交信息规范：`feat: 功能描述`、`fix: 问题修复`等

## 10. 部署方案

### 10.1 前端部署
- 构建：`npm run build`
- 部署：Nginx静态文件服务
- 反向代理：代理 `/api` 到后端服务

### 10.2 后端部署
- 打包：Maven打包成jar文件
- 运行：`java -jar zssystem.jar`
- 配置：通过 `application.yml` 配置

### 10.3 数据库部署
- MySQL 8.0+ 数据库服务器
- 定期备份策略
- 主从复制（可选）

## 11. 项目结构

### 11.1 前端项目结构
```
frontend/
├── src/
│   ├── api/              # API接口定义
│   ├── components/       # 公共组件
│   ├── pages/           # 页面组件
│   ├── routes/          # 路由配置
│   ├── store/           # 状态管理
│   ├── utils/           # 工具函数
│   └── assets/          # 静态资源
├── public/              # 公共资源
├── package.json         # 依赖配置
└── vite.config.ts       # Vite配置
```

### 11.2 后端项目结构
```
backend/
├── src/main/java/com/zssystem/
│   ├── controller/      # 控制器层
│   ├── service/         # 业务逻辑层
│   │   └── impl/        # 服务实现类
│   ├── mapper/          # 数据访问层
│   ├── entity/          # 实体类
│   ├── dto/             # 数据传输对象
│   ├── vo/              # 视图对象
│   ├── config/          # 配置类
│   ├── common/          # 公共类
│   ├── security/        # 安全相关
│   └── util/            # 工具类
├── src/main/resources/
│   ├── mapper/          # MyBatis XML映射文件
│   ├── db/              # 数据库脚本
│   └── application.yml  # 应用配置
└── pom.xml              # Maven依赖配置
```

## 12. 开发计划

### 第一阶段：基础框架搭建
- 项目初始化
- 前后端框架搭建
- 数据库设计
- 用户登录功能

### 第二阶段：核心功能开发
- 用户管理
- 权限管理
- 人员管理
- 设备管理（含点检表）

### 第三阶段：业务功能开发
- 生产管理
- 模具管理
- 物料管理
- 品质管理
- 现场5S管理

### 第四阶段：测试与优化
- 功能测试
- 性能优化
- 安全加固
- 文档完善

## 13. 后续扩展

- 移动端支持
- 数据大屏展示
- 报表导出功能
- 消息通知功能
- 工作流引擎集成
